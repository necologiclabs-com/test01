# Mock AI Employee API

モック AI エンプロイー API は、データ収集スケジューラのテスト用に決定論的なレスポンスを提供する HTTP サーバーです。

## セットアップ

```bash
npm install
npm run build
```

## 実行

```bash
# 開発モード（ts-node）
npm run dev

# プロダクションモード（コンパイル済み）
npm start
```

サーバーはポート 3000 で起動します。

## エンドポイント

### GET /response_count

指定された時間枠のレスポンス数を返します。

**クエリパラメータ:**

- `from` (必須): ISO8601 形式の開始タイムスタンプ
- `to` (必須): ISO8601 形式の終了タイムスタンプ

**レスポンス例:**

```json
{
  "from": "2025-12-02T10:23:00Z",
  "to": "2025-12-02T10:23:05Z",
  "count": 7
}
```

**カウント計算:**
カウントは決定論的で、`to`タイムスタンプの分の値に基づいて計算されます：

```
count = minute % 11
```

これにより、0 から 10 の値が 11 分ごとに循環します。

**エラーレスポンス:**

- 400: クエリパラメータが欠落している、または ISO8601 形式が無効

### GET /health

ヘルスチェックエンドポイント。

**レスポンス:**

```json
{
  "status": "ok"
}
```

## テスト

```bash
npm test
```

プロパティベーステストを含む全テストを実行します。
